<div class="wrap sub">
  <header>
    <h2>알림</h2>
    <a href="#" (click)="goBack($event)" class="back">
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M30.83 32.67l-9.17-9.17 9.17-9.17L28 11.5l-12 12 12 12z"/></svg>돌아가기
    </a>
  </header>
  <div class="alarm" *ngIf="(notifications$ | async) as notifications">
    <div class="alarm_header">
      <h3>새로운 알림 <span>{{notifications.length}}</span> 건</h3>
    </div>
    <div class="alarm_body">
      <div class="alarm_nothing" *ngIf="notifications.length === 0">
        알림이 없습니다.
      </div>
      <ul class="alarm_list" *ngIf="notifications.length > 0">
        <li *ngFor="let notification of notifications" class="alarm_item">
          <a [routerLink]="['/', notification.market, 'goods', notification.goodsRef.id]" style="text-decoration: none">
            <span class="alarm_thumb" [style.backgroundImage]="'url(' + notification.fromUser.photoURL + ')'"><span class="new"></span></span>
            <p class="alarm_content">
              <strong>{{ notification.fromUser.displayName }}</strong>님이
              <strong>{{ notification.goods.title }}</strong>에 댓글을 남겼습니다:<br>
              {{ notification.body }}
            </p>
            <span class="alarm_created">{{ notification.created | fsTimestamp | distanceInWordsToNow }}</span>
          </a>
        </li>
      </ul>
    </div>
    <div class="alarm_header">
      <h3>읽은 알림 <span>10</span> 건</h3>
    </div>
  </div>
</div>
